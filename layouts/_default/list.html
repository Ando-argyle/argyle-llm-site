<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>{{ if .Title }}{{ .Title }} | {{ end }}{{ site.Title }}</title>

  {{- $desc := .Params.description | default site.Params.description | default "" -}}
  {{- if $desc -}}
  <meta name="description" content="{{ $desc }}">
  {{- end -}}

  <!-- canonical -->
  <link rel="canonical" href="{{ .Permalink }}">

  <!-- robots: 制御は robots.txt に委譲 -->
  {{- with .Params.robots -}}
  <meta name="robots" content="{{ . }}">
  {{- end -}}

  <style>
    :root { --max: 920px; --fg:#111; --muted:#555; --link:#0b63c7; --bg:#fff; --border:#eaeaea; }
    * { box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
      line-height: 1.85;
      margin: 0;
      background: var(--bg);
      color: var(--fg);
    }
    main { max-width: var(--max); margin: 0 auto; padding: 36px 18px 56px; }

    header { margin-bottom: 24px; }
    .toplink {
      display: inline-block;
      font-size: 0.95rem;
      color: var(--link);
      text-decoration: none;
      margin-bottom: 10px;
    }
    .toplink:hover { text-decoration: underline; }

    h1 {
      font-size: 2rem;
      margin: 10px 0 10px;
      font-weight: 800;
    }

    .meta {
      font-size: 0.95rem;
      color: var(--muted);
    }

    nav.site-nav {
      margin: 18px 0 26px;
      padding: 10px 0;
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
    }
    nav.site-nav a {
      margin-right: 14px;
      text-decoration: none;
      color: var(--link);
      font-size: 0.95rem;
    }
    nav.site-nav a:hover { text-decoration: underline; }

    h2 {
      margin-top: 2.2rem;
      margin-bottom: 1rem;
      font-size: 1.45rem;
      font-weight: 800;
      border-bottom: 1px solid var(--border);
      padding-bottom: .25rem;
    }

    ul.page-list {
      list-style: none;
      padding-left: 0;
      margin: 1.2rem 0;
    }
    ul.page-list li {
      margin-bottom: 1.2rem;
    }
    ul.page-list a {
      font-size: 1.05rem;
      font-weight: 600;
      color: var(--link);
      text-decoration: none;
    }
    ul.page-list a:hover { text-decoration: underline; }

    .desc {
      font-size: 0.95rem;
      color: var(--muted);
      margin-top: 4px;
    }

    footer {
      margin-top: 36px;
      padding-top: 14px;
      border-top: 1px solid var(--border);
      color: var(--muted);
      font-size: 0.95rem;
    }
    .footer-links a { margin-right: 12px; }
  </style>
</head>

<body>
  <main>

    <header>
      <a class="toplink" href="/">← Top</a>
      <h1>{{ .Title }}</h1>

      {{- with .Params.description -}}
        <div class="meta">{{ . }}</div>
      {{- end -}}

      <nav class="site-nav">
        <a href="/overview/">Overview</a>
        <a href="/problems/">Problems</a>
        <a href="/products/">Products</a>
        <a href="/compare/all/">Compare</a>
      </nav>
    </header>

    <article>
      {{ .Content }}

      {{ if .Pages }}
        <h2>Pages</h2>
        <ul class="page-list">
          {{ range .Pages.ByWeight }}
            <li>
              <a href="{{ .RelPermalink }}">{{ .Title }}</a>
              {{ with .Params.description }}
                <div class="desc">{{ . }}</div>
              {{ end }}
            </li>
          {{ end }}
        </ul>
      {{ end }}
    </article>

    <footer>
      <div class="footer-links">
        <a href="/">Top</a>
        <a href="/overview/">Overview</a>
        <a href="/products/">Products</a>
      </div>
      <div>© Argyle Knowledge Base</div>
    </footer>

  </main>
</body>
</html>
